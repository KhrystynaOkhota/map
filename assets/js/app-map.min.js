jQuery(function(e){function t(t,o,i,a,s,r){let p=new google.maps.Marker({position:o,map:l[t].map,icon:{url:s,scaledSize:new google.maps.Size(40,40)},mainImage:s,activeIcon:r,active:!1});if(a){let i="";a.phones.length&&(i+="<div>",a.phones.forEach(e=>{i+=`<a class="infobox-contact btn-link btn-link_inline" href="${e.link}" >${e.number}</a>`}),i+="</div>");let s='<div class="info-box-wrapper">\n        <img src="'+window.location.origin+`/wp-content/themes/kebabtsia/img/logo-text.svg" alt="" loading="lazy">\n        ${a.address?`<div>${a.address}</div> `:""}\n        ${a.workingHours.length?`<div>${a.workingHours.join("<br>")}</div>`:""}\n        ${i} \n      \n      </div>`;google.maps.event.addListener(p,"click",function(){n.setContent(s),n.setPosition(o),n.open(l[t].map),window.innerWidth<768&&l[t].map.panTo(this.getPosition()),setTimeout(()=>{window.innerWidth<768?l[t].map.panBy(0,-100):l[t].map.panBy(0,0)},5),this.active=!1,setTimeout(()=>{_functions.initSwiper(e(".search-map .swiper-container"))},200)})}return p}function o(o){function s(e){for(let i=0;i<e.length;i++){var o=t(e[i].dataRel,new google.maps.LatLng(e[i].dataLat,e[i].dataLng),0,e[i].infobox,e[i].dataImg,e[i].dataImgActive);p.push(o)}p.forEach(function(e,t){l[g].bounds.extend(e.getPosition())}),1==p.length?(l[g].map.setCenter({lat:parseFloat(p[0].position.lat()),lng:parseFloat(p[0].position.lng())}),l[g].map.setZoom(i)):l[g].map.fitBounds(l[g].bounds,{top:10,left:80,right:80,bottom:10})}function r(e){const t=[];l[g].bounds=new google.maps.LatLngBounds,p.map(o=>{const i=e==o.filter;o.setVisible(i),i&&(t.push(o),l[g].bounds.extend(o.getPosition()))}),t.length&&l[g].map.fitBounds(l[g].bounds,{top:80,left:80,right:80,bottom:80})}let p=[];var y=o.attr("data-lat"),m=o.attr("data-lng"),c=window.innerWidth<767?parseInt(o.attr("data-xs-zoom")):parseInt(o.attr("data-zoom")),g=o.attr("id"),f=(o.attr("data-cluster-img")||o.data("map-marker"),void 0===o.data("disable-zoom")),d=(o.data("map-marker"),{zoom:i=window.innerWidth<767?""==!o.attr("data-xs-zoom")?c:10:""==!o.attr("data-zoom")?c:12,disableDefaultUI:!0,scrollwheel:!1,zoomControl:f,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_BOTTOM},streetViewControl:!1,fullscreenControl:!1,styles:a,minZoom:2});if(l[g]=new function(e,t){this.map=new google.maps.Map(document.getElementById(e),t),this.markers=[],this.infowindows=[],this.clusters=null}(g,d),l[g].bounds=new google.maps.LatLngBounds,""==!y&&""==!m&&l[g].map.setCenter({lat:parseFloat(y),lng:parseFloat(m)}),o.data("link")){let t=o.data("link");e.ajax({url:t,type:"get",dataType:"json",error:e=>console.log(e),success:e=>{s(e)}})}if(o.nextAll(".map-marker").length){let t=[];o.nextAll(".map-marker").each(function(){t.push(e(this).data("marker-params"))}),s(t)}return o.attr("data-polygons-url")&&e.ajax({url:o.attr("data-polygons-url"),type:"get",dataType:"json",error:e=>console.log(e),success:e=>{console.log(e);const t=function(e){const t=e.redZones,o=e.yellowZones,i=e.greenZones,l={};return t&&(l.redZonesPolygons=[],t.zoneLocations.forEach(function(e){const o=new google.maps.Polygon({paths:e.path,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,fillColor:t.fillColor,fillOpacity:t.fillOpacity});l.redZonesPolygons.push(o)})),o&&(l.yellowZonesPolygons=[],o.zoneLocations.forEach(function(e){const t=new google.maps.Polygon({paths:e.path,strokeColor:o.strokeColor,strokeOpacity:o.strokeOpacity,strokeWeight:o.strokeWeight,fillColor:o.fillColor,fillOpacity:o.fillOpacity});l.yellowZonesPolygons.push(t)})),i&&(l.greenZonesPolygons=[],i.zoneLocations.forEach(function(e){const t=new google.maps.Polygon({paths:e.path,strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight,fillColor:i.fillColor,fillOpacity:i.fillOpacity});l.greenZonesPolygons.push(t)})),l}(e);for(let e in t)t[e].forEach(function(e){e.setMap(l[g].map)})}}),n.addListener("closeclick",function(){p.forEach(function(e){e.active=!1})}),l[g].map.addListener("click",function(){n.close(),p.forEach(function(e){e.active=!1})}),this.update=function(e){n.close(),p.forEach(e=>e.setMap(null)),l[g].markerClusterer.clearMarkers(),p=[],s(e)},o.closest("section").find("[data-map-filter]").length&&(o.closest("section").find("[data-map-filter]").on("click",function(){e(this).addClass("active").siblings().removeClass("active"),r(e(this).attr("data-map-filter"))}),o.closest("section").find(".active[data-map-filter]").length&&setTimeout(()=>{r(o.closest("section").find(".active[data-map-filter]").attr("data-map-filter"))},100)),p.length&&Boolean(o.attr("data-show-infobox"))&&setTimeout(()=>{google.maps.event.trigger(p[0],"click")},500),this}window.location.pathname;var i,l=[],a=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative.country",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"administrative.province",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"simplified"},{saturation:"-100"},{lightness:"30"}]},{featureType:"administrative.neighborhood",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"simplified"},{gamma:"0.00"},{lightness:"74"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{lightness:"3"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}],s={alignBottom:!0,content:"text",closeBoxURL:"http://moonart.net.ua/olehm/tobbi/img/icons/close.svg",pixelOffset:window.innerWidth>767?new google.maps.Size(-245,-40):new google.maps.Size(-110,-45),boxStyle:{width:"220px"}},n=new InfoBox(s);e(".map").each(function(){o(e(this))})});